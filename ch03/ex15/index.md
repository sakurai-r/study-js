```js
/* eslint-disable */
for (let i = 0; i < 10; i++) {
  (function () {
    let i = 100;
  })();
  console.log(i);
}
console.log(i);
```

### 予想

```
0~9が順番に出力された後に error が発生する
```

### 実行結果

```
0
1
2
3
4
5
6
7
8
9
file:///C:/Users/r00527802/Desktop/study-js/ch03/ex15/index.js:8
console.log(i);
```

### 説明

```
let や const を使って宣言された変数や定数のスコープはブロックスコープである。
そのため、for ループ、即時関数の内部のみ宣言が有効になる。
したがって、即時関数内で宣言された i = 100 はループに影響を与えない。
また、for ループの外では i が宣言されていないのでエラーが発生する。
```

```js
/* eslint-disable */
for (var i = 0; i < 10; i++) {
  (function () {
    var i = 100;
  })();
  console.log(i);
}
console.log(i);
```

### 予想

```
0~10 が順番に出力される
```

### 実行結果

```
0
1
2
3
4
5
6
7
8
9
10
```

### 説明

```
関数の外側で var を使って変数を宣言した場合、変数がグローバル変数になる。
ループが終わるとき i = 10 なので、最後の console.log で 10 が出力される。
```

```js
/* eslint-disable */
for (i = 0; i < 10; i++) {
  (function () {
    i = 100;
  })();
  console.log(i);
}
console.log(i);
```

### 予想

```
100, 100 が出力される
```

### 実行結果

```
100
100
```

### 説明

```
strict モード以外では、letやconst、varを使って宣言していない名前に値を代入した場合
新たなグローバル変数が生成される。したがって、即時関数内の i = 100 によってグローバル変数が書き換えられるため、ループが１回で終了する。
その後、再度 100 が出力される。
```
